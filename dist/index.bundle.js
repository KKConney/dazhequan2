webpackJsonp([0,1],[function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={};r.addevent=function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t},r.ajax=function(e,n,t,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300||304===o.status?r(o.responseText):alert("ajax通信失败 "+o.status))},o.open(t,n,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(e)},r.testlogin=function(){return"true"===localStorage.sign_in},n.default=r},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(8),a=r(o),s=t(5),i=r(s),u=t(6),l=r(u),d=t(7),c=r(d),f=t(4),p=r(f),m=t(3),g=r(m),h=new g.default,v=document.getElementById("page"),b=document.getElementById("menulist");h.route("/",p.default.bind(null,b,v)),h.route("/login",i.default.bind(null,b,v)),h.route("/logout",l.default.bind(null,b,v)),h.route("/post",c.default.bind(null,b,v)),h.route("/register",a.default.bind(null,b,v)),n.default=h},function(e,n,t){var r=t(9);"string"==typeof r&&(r=[[e.i,r,""]]);t(11)(r,{});r.locals&&(e.exports=r.locals)},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(0),a=r(o),s=function(){this.currenturl="",this.methods={}};s.prototype.route=function(e,n){this.methods[e]=n},s.prototype.refresh=function(){this.currenturl=location.hash.slice(1)||"/",this.methods[this.currenturl]?this.methods[this.currenturl]():console.log(this.currenturl)},s.prototype.init=function(){a.default.addevent(window,"load",this.refresh.bind(this)),a.default.addevent(window,"hashchange",this.refresh.bind(this))},n.default=s},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if(a.default.testlogin()){var t='\n        <li><a href="#/post">发布</a></li>\n        <li><a href="#/logout">登出</a></li>\n    ';e.innerHTML=t}else{var r='\n        <li><a href="#/register">注册</a></li>\n        <li><a href="#/login">登录</a></li>\n    ';e.innerHTML=r}a.default.ajax(null,"http://localhost:8082/","post",function(e){var t=JSON.parse(e),r="<div>";t.forEach(function(e){r+="\n      <div>\n      <h1>"+e.username+"</h1>\n      <p style='padding-left:10%;'>"+e.info+"</p>\n      <p style='text-align:right;'>"+e.time+"</p><br>\n      </div>"}),r+="</div>",n.innerHTML=r})};var o=t(0),a=r(o)},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){n.innerHTML=s;var t=document.getElementById("form1");a.default.addevent(t,"submit",function(e){e.preventDefault();var n=e.target,t=n.username.value,r=n.password.value;t&&r&&(document.getElementById("success").innerHTML="已提交至服务器，请耐心等待",a.default.ajax(JSON.stringify({username:t,password:r}),"http://localhost:8082/login","post",function(e){var n=JSON.parse(e);if("no username"===n.right)document.getElementById("userwarn").innerHTML="*用户名不存在",document.getElementById("passwarn").innerHTML="",document.getElementById("success").innerHTML="";else if("password wrong"===n.right)document.getElementById("passwarn").innerHTML="*密码不正确",document.getElementById("userwarn").innerHTML="",document.getElementById("success").innerHTML="";else if("yes"===n.right){localStorage.sign_in=!0,localStorage.token=n.token;var t=3;document.getElementById("success").innerHTML="登录成功，"+(t-1)+"s后返回首页";var r=setInterval(function(){t--,0===t&&(clearInterval(r),location.hash="#/"),document.getElementById("success").innerHTML="登录成功，"+(t-1)+"s后返回首页"},1e3)}console.log(e)}))})};var o=t(0),a=r(o),s="<form id='form1'>\n  <label for='username'>用户名：</label><input name='username' type='text' id='username' placeHolder='username'/><span id='userwarn'></span><br>\n  <label for='password'>密&nbsp码：</label><input name = 'password' type='password' id='password' /><span id='passwarn'></span><br>\n  <input type='submit' value='submit' /><br>\n  <span id='success'></span>\n</form>"},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){n.innerHTML=a,localStorage.sign_in=!1;var t=3;document.getElementById("success").innerHTML="登出成功，"+(t-1)+"s后返回首页";var r=setInterval(function(){t--,0===t&&(clearInterval(r),location.hash="#/"),document.getElementById("success").innerHTML="登出成功，"+(t-1)+"s后返回首页"},1e3)};var o=t(0),a=(r(o),"<h1>logout</h1><span id='success'></span>")},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if(a.default.testlogin()){var t='\n      <li><a href="#/post">发布</a></li>\n      <li><a href="#/logout">登出</a></li>\n    ';e.innerHTML=t,n.innerHTML=s;var r=document.getElementById("form3");a.default.addevent(r,"submit",function(e){event.preventDefault(),document.getElementById("success").innerHTML="已提交至服务器，请耐心等待",a.default.ajax(JSON.stringify({token:localStorage.token,info:this.info.value,time:(new Date).toLocaleString()}),"http://localhost:8082/post","post",function(e){if("yes"===e){var n=3;document.getElementById("success").innerHTML="发布成功，"+(n-1)+"s后返回首页";var t=setInterval(function(){n--,0===n&&(clearInterval(t),location.hash="#/"),document.getElementById("success").innerHTML="发布成功，"+(n-1)+"s后返回首页"},1e3)}else alert("用户未登陆"),location.hash="#/login"})})}else{var o='\n      <li><a href="#/register">注册</a></li>\n      <li><a href="#/login">登录</a></li>\n    ';menulist.innerHTML=o,n.innerHTML="<h1>您尚未登录</h1><span id='success'></span>";var i=3;document.getElementById("success").innerHTML="尚未登录，"+(i-1)+"s后返回首页";var u=setInterval(function(){i--,0===i&&(clearInterval(u),location.hash="#/login"),document.getElementById("success").innerHTML="尚未登录，"+(i-1)+"s后返回首页"},1e3)}};var o=t(0),a=r(o),s="\n<form id='form3'>\n  <textarea name='info' placeHolder='想要发布的打折信息'></textarea><br>\n  <button id='cancel'>取消</cancel></button><input type='submit' value = '发布'><br>\n  <span id='success'></span>\n</form>\n"},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){n.innerHTML=s;var t=document.getElementById("form0");a.default.addevent(t,"submit",function(e){e.preventDefault();var n=e.target,t=n.username.value,r=n.password1.value,o=n.password2.value;t&&r&&o?r===o?(document.getElementById("success").innerHTML="已提交至服务器，请耐心等待",a.default.ajax(JSON.stringify({username:t,password:r}),"http://localhost:8082/register","post",function(e){var n=JSON.parse(e);if(console.log(n),"no"===n.right)document.getElementById("userwarn").innerHTML="*用户名已存在";else if("yes"===n.right){localStorage.sign_in=!0,localStorage.token=n.token;var t=3;document.getElementById("success").innerHTML="登录成功，"+(t-1)+"s后返回首页";var r=setInterval(function(){t--,0===t&&(clearInterval(r),location.hash="#/"),document.getElementById("success").innerHTML="登录成功，"+(t-1)+"s后返回首页"},1e3)}})):document.getElementById("passwarn").innerHTML="*两次密码不一致":(""===t&&(document.getElementById("userwarn").innerHTML="*用户名不能为空"),""!==r&&""!==o||(document.getElementById("passwarn").innerHTML="*密码不能为空"))})};var o=t(0),a=r(o),s="<form id='form0'>\n  <label for='username'>用 户 名：</label><input name='username' type='text' id='username'/><span id='userwarn'></span><br>\n  <label for='password1'>密 &nbsp 码：</label><input name = 'password1' type='password' id='password1'/><br>\n  <label for='password2'>重复密码：</label><input name = 'password2' type='password' id='password2'/><span id='passwarn'></span><br>\n  <input type='submit' value='submit' /><br>\n  <span id='success'></span>\n</form>"},function(e,n,t){n=e.exports=t(10)(),n.push([e.i,"div#page{margin:auto;width:70%}.dropdown{position:relative;float:right;margin-right:10%;margin-top:10px}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;width:100%;min-width:20px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.dropdown-menu>li>a{display:block;text-align:center;padding:3px 10px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.dropdown-menu>li>a:focus,.dropdown-menu>li>a:hover{color:#262626;text-decoration:none;background-color:#f5f5f5}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{background-image:none;outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.appname{padding:10px;font-size:40px;margin:10px}#passwarn,#userwarn{color:red;font-size:5px}form{margin:10px;padding:4px}#form3{text-align:center}#form3 input{float:right;margin-right:3%}#form3 textarea{width:100%;height:100px}",""])},function(e,n){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],n=0;n<this.length;n++){var t=this[n];t[2]?e.push("@media "+t[2]+"{"+t[1]+"}"):e.push(t[1])}return e.join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<n.length;o++){var s=n[o];"number"==typeof s[0]&&r[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="("+s[2]+") and ("+t+")"),e.push(s))}},e}},function(e,n){function t(e,n){for(var t=0;t<e.length;t++){var r=e[t],o=f[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(u(r.parts[a],n))}else{for(var s=[],a=0;a<r.parts.length;a++)s.push(u(r.parts[a],n));f[r.id]={id:r.id,refs:1,parts:s}}}}function r(e){for(var n=[],t={},r=0;r<e.length;r++){var o=e[r],a=o[0],s=o[1],i=o[2],u=o[3],l={css:s,media:i,sourceMap:u};t[a]?t[a].parts.push(l):n.push(t[a]={id:a,parts:[l]})}return n}function o(e,n){var t=g(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),b.push(n);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(n)}}function a(e){e.parentNode.removeChild(e);var n=b.indexOf(e);n>=0&&b.splice(n,1)}function s(e){var n=document.createElement("style");return n.type="text/css",o(e,n),n}function i(e){var n=document.createElement("link");return n.rel="stylesheet",o(e,n),n}function u(e,n){var t,r,o;if(n.singleton){var u=v++;t=h||(h=s(n)),r=l.bind(null,t,u,!1),o=l.bind(null,t,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=i(n),r=c.bind(null,t),o=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=s(n),r=d.bind(null,t),o=function(){a(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}function l(e,n,t,r){var o=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(n,o);else{var a=document.createTextNode(o),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(a,s[n]):e.appendChild(a)}}function d(e,n){var t=n.css,r=n.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}function c(e,n){var t=n.css,r=n.sourceMap;r&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([t],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var f={},p=function(e){var n;return function(){return"undefined"==typeof n&&(n=e.apply(this,arguments)),n}},m=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=p(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,v=0,b=[];e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");n=n||{},"undefined"==typeof n.singleton&&(n.singleton=m()),"undefined"==typeof n.insertAt&&(n.insertAt="bottom");var o=r(e);return t(o,n),function(e){for(var a=[],s=0;s<o.length;s++){var i=o[s],u=f[i.id];u.refs--,a.push(u)}if(e){var l=r(e);t(l,n)}for(var s=0;s<a.length;s++){var u=a[s];if(0===u.refs){for(var d=0;d<u.parts.length;d++)u.parts[d]();delete f[u.id]}}}};var y=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}()},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=t(2),a=(r(o),t(0)),s=r(a),i=t(1),u=r(i);u.default.init(),s.default.addevent(window,"click",function(){var e=document.getElementsByClassName("dropdown-menu")[0];e.style.display="none"});var l=document.getElementById("menu");s.default.addevent(l,"click",function(e){e.stopPropagation();var n=document.getElementsByClassName("dropdown-menu")[0],t=n.style.display;"block"===t?n.style.display="none":n.style.display="block"})}],[12]);